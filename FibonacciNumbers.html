<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Sadanand Singh" />
        <meta name="copyright" content="Sadanand Singh" />

<meta name="keywords" content="Logic, Math, Computers, Algorithms, " />

<meta property="og:title" content="Moore‚Äôs Law and Algorithms - Case of Fibonacci¬†Numbers "/>
<meta property="og:url" content="http://sadanand-singh.github.io/FibonacciNumbers" />
<meta property="og:description" content="Moor‚Äôs Law vs¬†Algorithms" />
<meta property="og:site_name" content="Sadanand&#39;s Notes" />
<meta property="og:article:author" content="Sadanand Singh" />
<meta property="og:article:published_time" content="2015-07-12T17:00:00-07:00" />
<meta property="" content="2015-07-13T23:00:00-07:00" />
<meta name="twitter:title" content="Moore‚Äôs Law and Algorithms - Case of Fibonacci¬†Numbers ">
<meta name="twitter:description" content="Moor‚Äôs Law vs¬†Algorithms">
<meta property="og:image" content="http://sadanand-singh.github.io/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="http://sadanand-singh.github.io/theme/images/apple-touch-icon-152x152.png" >

        <title>Moore&#8217;s Law and Algorithms - Case of Fibonacci&nbsp;Numbers  ¬∑ Sadanand's Notes
</title>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://sadanand-singh.github.io/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://sadanand-singh.github.io/theme/css/github.css" media="screen">
        <link rel="shortcut icon" href="http://sadanand-singh.github.io/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-144x144.png" />
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54080172-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://sadanand-singh.github.io/"><span class=site-name>Sadanand's Notes</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://sadanand-singh.github.io">Home</a></li>
                            <li ><a href="http://sadanand-singh.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://sadanand-singh.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://sadanand-singh.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://sadanand-singh.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="http://sadanand-singh.github.io/FibonacciNumbers"> Moore&#8217;s Law and Algorithms - Case of Fibonacci&nbsp;Numbers  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            <p>The world of computers is moving fast. While going through some materials on algorithms, I have come across an interesting discussion -enhancements in hardware (cpu) vis-a-vis&nbsp;algorithms.</p>
<p>One side of the coin is the hardware - the speed of computers.The famous <a href="http://www.techradar.com/news/computing/moore-s-law-how-long-will-it-last--1226772">Moore&#8217;s law</a> states&nbsp;that:</p>
<p><strong><em>The complexity for minimum component costs has increased at a rate of <em>roughly</em> a factor of <em>two per year</em>. Certainly over the short term this rate can be expected to continue, if not to increase. Over the longer term, the rate of increase is a bit more uncertain, although there is no reason to believe it will not remain nearly constant for at least 10 years.</em></strong> ####&#8212; G. Moore,&nbsp;1965</p>
<p>In simple words, <a href="https://en.wikipedia.org/wiki/Moore%27s_law"><em>Moore&#8217;s law</em></a> is the observation that, over the history of computing hardware, the number of transistors in a dense integrated circuit has doubled approximately every two years. More precisely, the number of transistors in a dense integrated circuit has increased by a factor of 1.6 every two years. More recently, keeping up with this has been challenging. In the context of this discussion, the inherent assumption is that number of transistors is directly proportional to the speed of&nbsp;computers.</p>
<p>Now, looking at the other side of the coin - speed of algorithms. According to Excerpt from <a href="https://www.whitehouse.gov/sites/default/files/microsites/ostp/pcast-nitrd-report-2010.pdf#97">Report to the President and Congress: Designing a Digital Future, December 2010 (page 97)</a>:</p>
<p><em>Everyone knows Moore‚Äôs Law ‚Äì a prediction made in 1965 by Intel co-¬≠founder Gordon Moore that the density of transistors in integrated circuits would continue to double every 1 to 2 years&#8230;. in many areas, performance gains due to improvements in algorithms have vastly exceeded even the dramatic performance gains due to increased processor&nbsp;speed.</em></p>
<p>The gain in computing speed due to algorithms have been simply phenomenal, unprecedented, to say the least! Being actively involved with realization of Moore&#8217;s law (<em>guess where I work!</em>), I have been naturally attracted in the study and design of&nbsp;algorithms.</p>
<p>To get a more practical perspective on this, lets look at the problem of finding large <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci numbers</a>. These numbers have been used in wide areas ranging from arts to economics to biology to computer science to the game of poker! The simple definition of these numbers are: <br /><span class="math display">$$F_{n} = \begin{cases} F_{n-2} + F_{n-1} <span class="amp">&amp;</span> \text{if } n &gt; 1 &#92; 1 <span class="amp">&amp;</span>
\text{if } n = 1 &#92; 0 <span class="amp">&amp;</span> \text{if } n = 0 \end{cases}$$</span><br /></p>
<p>So, first few Fibonacci numbers are: <span class="math inline">0,‚ÄÜ1,‚ÄÜ1,‚ÄÜ2,‚ÄÜ3,‚ÄÜ5,‚ÄÜ8,‚ÄÜ13,‚ÄÜ21,‚ÄÜ34,‚ÄÜ55,‚ÄÜ89,‚ÄÜ144‚Ä¶</span> These numbers grow <em>almost</em> as fast as powers of 2: for example, <span class="math inline"><em>F</em><sub>30</sub></span> is over a million, and <span class="math inline"><em>F</em><sub>100</sub></span> is 21 digits long! In general, <span class="math inline"><em>F</em><sub><em>n</em></sub>‚ÄÑ‚âà‚ÄÑ2<sup>0.694<em>n</em></sup></span> Clearly, we need a computing device to calculate say <span class="math inline"><em>F</em><sub>200</sub></span>.</p>
<p>The most basic algorithm, that comes to mind is a recursive scheme that taps directly into the above definition of Fibonacci&nbsp;series.</p>
<pre class="py"><code>def fibRecursive(n):
    if n == 0:
        return 0
    if n == 1:
        return 1
    return fibRecursive(n-2)+fibRecursive(n-1)</code></pre>
<p>If you analyze this scheme, this is in fact an exponential algorithm, i.e. fibRecursive( n ) is proportional to <span class="math inline">2<sup>0.694<em>n</em></sup>‚ÄÑ‚âà‚ÄÑ(1.6)<sup><em>n</em></sup></span>, so it takes 1.6 times longer to compute <span class="math inline"><em>F</em><sub><em>n</em>‚ÄÖ+‚ÄÖ1</sub></span> than <span class="math inline"><em>F</em><sub><em>n</em></sub></span>. This is interesting. Recall, under Moore&#8217;s law, computers get roughly 1.6 times faster every 2 years. So if we can reasonably compute <span class="math inline"><em>F</em><sub>100</sub></span> with this year&#8217;s technology, then only after 2 years we will manage to get <span class="math inline"><em>F</em><sub>101</sub></span>! Only one more Fibonacci number every 2&nbsp;years!</p>
<p>Luckily, algorithms have grown at a much faster pace. Let&#8217;s consider improvements w.r.t to this current problem of finding <span class="math inline"><em>n</em><sup><em>t</em><em>h</em></sup></span> Fibonacci number, <span class="math inline"><em>F</em><sub><em>n</em></sub></span>.</p>
<p>First problem we should realize in the above recursive scheme is that we are recalculating lower <span class="math inline"><em>F</em><sub><em>n</em></sub></span> at each recursion level. Lets solve this issue by storing each calculation and avoiding any&nbsp;re-calculation!</p>
<pre class="py"><code>def fibN2(n):
    a = 0
    b = 1
    if n == 0:
        return 0

    for i in range(1,n+1):
        c = a + b
        a = b
        b = c

    return b</code></pre>
<p>On first glance this looks like an <span class="math inline">ùí™(<em>n</em>)</span> scheme, as we consider each addition as one operation. However, we should realize that as <span class="math inline"><em>n</em></span> increases, addition can not be assumed as a single operation, rather every step of addition is an <span class="math inline">ùí™(<em>n</em>)</span> operation, recall first grade Math for adding numbers digit by digit!! Hence, this algorithm is an <span class="math inline">ùí™(<em>n</em><sup>2</sup>)</span> scheme. Can we do&nbsp;better?</p>
<p>You bet, we can! Lets consider the following scheme: <br /><span class="math display">$$\begin{pmatrix} 1&amp;1 &#92; 1&amp;0 \end{pmatrix}^n = \begin{pmatrix} F_{n+1}&amp;F_n &#92; F_n&amp;F_{n-1} \end{pmatrix}$$</span><br /></p>
<p>We can use a recursive scheme to calculate this matrix power using a divide and conquer scheme in <span class="math inline">ùí™(log<em>n</em>)</span>&nbsp;time.</p>
<pre class="py"><code>def mul(A, B):
    a, b, c = A
    d, e, f = B
    return a*d + b*e, a*e + b*f, b*e + c*f

def pow(A, n):
    if n == 1:     return A
    if n &amp; 1 == 0: return pow(mul(A, A), n//2)
    else:          return mul(A, pow(mul(A, A), (n-1)//2))

def fibLogN(n):
    if n &lt; 2: return n
    return pow((1,1,0), n-1)[0]</code></pre>
<p>Lets think a bit harder about this. Is it really an <span class="math inline">ùí™(log<em>n</em>)</span> scheme? It involves multiplication of numbers, the method mul(A, B). What happens when <span class="math inline"><em>n</em></span> is very large? Sure, this will blow up, as typical multiplication would be an <span class="math inline">ùí™(<em>n</em><sup>2</sup>)</span> operation. So, in fact, our new scheme is <span class="math inline">ùí™(<em>n</em><sup>2</sup>log<em>n</em>)</span>!</p>
<p>Luckily, we can solve even large multiplications in <span class="math inline">ùí™(<em>n</em><sup><em>l</em><em>o</em><em>g</em><sub>2</sub>3</sup>‚ÄÑ‚âà‚ÄÑ<em>n</em><sup>1.585</sup>)</span>, using <a href="https://en.wikipedia.org/wiki/Karatsuba_algorithm">Karatsuba multiplication</a>, which is again a divide and conquer&nbsp;scheme.</p>
<p>Here is one simple implementation (Same as the above scheme, but with the following mul(A,B)&nbsp;method):</p>
<pre class="py"><code>_CUTOFF = 1536

def mul(A, B):
    a, b, c = A
    d, e, f = B
    return multiply(a,d) + multiply(b,e), multiply(a,e) + multiply(b,f), multiply(b,e) + multiply(c,f)

def multiply(x, y):
    if x.bit_length() &lt;= _CUTOFF or y.bit_length() &lt;= _CUTOFF:
        return x * y

    else:
        n = max(x.bit_length(), y.bit_length())
        half = (n + 32) // 64 * 32
        mask = (1 &lt;&lt; half) - 1
        xlow = x &amp; mask
        ylow = y &amp; mask
        xhigh = x &gt;&gt; half
        yhigh = y &gt;&gt; half

        a = multiply(xhigh, yhigh)
        b = multiply(xlow + xhigh, ylow + yhigh)
        c = multiply(xlow, ylow)
        d = b - a - c
        return (((a &lt;&lt; half) + d) &lt;&lt; half) + c</code></pre>
<p>So, this final scheme is in <span class="math inline">ùí™(<em>n</em><sup>1.585</sup>log<em>n</em>)</span>&nbsp;time.</p>
<p>Here is one final way of solving this problem in the same <span class="math inline">ùí™(<em>n</em><sup>1.585</sup>log<em>n</em>)</span> time, but using a somewhat simpler&nbsp;scheme!</p>
<p>If we know <span class="math inline"><em>F</em><sub><em>K</em></sub></span> and <span class="math inline"><em>F</em><sub><em>K</em>‚ÄÖ+‚ÄÖ1</sub></span>, then we can find, <br /><span class="math display"><em>F</em><sub>2<em>K</em></sub>‚ÄÑ=‚ÄÑ<em>F</em><sub><em>K</em></sub>[2<em>F</em><sub><em>K</em>‚ÄÖ+‚ÄÖ1</sub>‚àí<em>F</em><sub><em>K</em></sub>]</span><br /> <br /><span class="math display"><em>F</em><sub>2<em>K</em>‚ÄÖ+‚ÄÖ1</sub>‚ÄÑ=‚ÄÑ<em>F</em><sub><em>K</em>‚ÄÖ+‚ÄÖ1</sub><sup>2</sup>‚ÄÖ+‚ÄÖ<em>F</em><sub><em>K</em></sub><sup>2</sup></span><br /></p>
<p>We can implement this using the Karatsuba multiplication as&nbsp;follows:</p>
<pre class="py"><code>def fibFast(n):
    if n &lt;= 2:
        return 1
    k = n // 2
    a = fibFast(k + 1)
    b = fibFast(k)
    if n % 2 == 1:
        return multiply(a,a) + multiply(b,b)
    else:
        return multiply(b,(2*a - b))</code></pre>
<p>That&#8217;s it for today. We saw how far algorithms can go in speed for such simple problems. Let me know in the comments below, if you have any faster or alternate algorithms in mind. Have fun, May zero be with&nbsp;you!</p>


            <div class="shared_links">
            <section>
    <p id="post-share-links">
    Like this post? Share on:
    <a href="http://twitter.com/home?status=b'Moore%E2%80%99s%20Law%20and%20Algorithms%20-%20Case%20of%20Fibonacci%C2%A0Numbers%20http%3A//sadanand-singh.github.io/FibonacciNumbers'" target="_blank" title="Share on Twitter">Twitter</a>
    ‚ùÑ
    <a href="http://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A//sadanand-singh.github.io/FibonacciNumbers" target="_blank" title="Share on Facebook">Facebook</a>
    ‚ùÑ
    <a href="https://plus.google.com/share?url=http%3A//sadanand-singh.github.io/FibonacciNumbers" target="_blank" title="Share on Google Plus">Google+</a>
    ‚ùÑ
    <a href="mailto:?subject=Moore%E2%80%99s%20Law%20and%20Algorithms%20-%20Case%20of%20Fibonacci%C2%A0Numbers&amp;body=http%3A//sadanand-singh.github.io/FibonacciNumbers" target="_blank" title="Share via Email">Email</a>
    </p>
</section>

            </div>

<section>
<p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="FibonacciNumbers.sadanand"
                href="http://sadanand-singh.github.io/FibonacciNumbers#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sadanandsblog';
        var disqus_identifier = 'FibonacciNumbers.sadanand';
    var disqus_url = 'http://sadanand-singh.github.io/FibonacciNumbers';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>                </div>
            </div>
        </div>
    </div>
</div>
</section>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
                <li class="previous_article">¬´ <a href="http://sadanand-singh.github.io/PrimeNumberAndPath" title="Previous: Two Simple Math&nbsp;Puzzles">Two Simple Math&nbsp;Puzzles</a></li>
                <li class="next_article"><a href="http://sadanand-singh.github.io/GajarHalwa" title="Next: Carrot Halwa&nbsp;Recipe">Carrot Halwa&nbsp;Recipe</a> ¬ª</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2015-07-12T17:00:00-07:00">Jul 12, 2015</time>
            <h4>Last Updated</h4>
            <div class="last_updated">2015-07-13 23:00:00-07:00</div>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#Algorithms-ref">Algorithms</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#Computers-ref">Computers
                    <span>4</span>
</a></li>
                <li><a href="/tags.html#Logic-ref">Logic
                    <span>2</span>
</a></li>
                <li><a href="/tags.html#Math-ref">Math
                    <span>4</span>
</a></li>
            </ul>

<h4>Stay in Touch</h4>
    <a href="http://twitter.com/sadanandsingh" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://www.facebook.com/sadanand4singh" title="My Facebook Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-facebook sidebar-social-links"></i></a>
    <a href="http://github.com/sadanand-singh" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="https://www.linkedin.com/in/sadanandsingh" title="My Linkedin Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>



        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-license"><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"> "Sadanand's Notes" </span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://sadanand-singh.github.io" property="cc:attributionName" rel="cc:attributionURL">Sadanand Singh</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

<script type="text/javascript">
    var disqus_shortname = 'sadanandsblog';

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
        <script  language="javascript" type="text/javascript">
            function uncollapse() {
                var hash_str = window.location.hash;
                if (window.location.hash.match(/^#comment-\d+$/))
                {
                    var hash_str = '#disqus_thread';
                }
                $(hash_str).collapse({
                    toggle: true
                    })
            }
        </script>

        <script type="text/javascript" language="JavaScript">
            uncollapse();
        </script>
    </body>
</html>