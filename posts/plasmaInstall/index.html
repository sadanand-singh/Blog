<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Plasma 5 Installation on Arch Linux | Sadanand's Notes</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://sadanand-singh.github.io/posts/plasmaInstall/">
<link rel="icon" href="../../favicon.ico" sizes="16x16">
<link rel="icon" href="../../favicon-32x32.png" sizes="32x32">
<link rel="icon" href="../../favicon-96x96.png" sizes="96x96">
<link rel="icon" href="../../apple-icon.png" sizes="192x192">
<link rel="icon" href="../../apple-icon-precomposed.png" sizes="192x192">
<link rel="icon" href="../../apple-icon-57x57.png" sizes="57x57">
<link rel="icon" href="../../apple-icon-60x60.png" sizes="60x60">
<link rel="icon" href="../../apple-icon-72x72.png" sizes="72x72">
<link rel="icon" href="../../apple-icon-76x76.png" sizes="76x76">
<link rel="icon" href="../../apple-icon-114x114.png" sizes="114x114">
<link rel="icon" href="../../apple-icon-120x120.png" sizes="120x120">
<link rel="icon" href="../../apple-icon-144x144.png" sizes="144x144">
<link rel="icon" href="../../apple-icon-152x152.png" sizes="152x152">
<link rel="icon" href="../../apple-icon-180x180.png" sizes="180x180">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><link rel="stylesheet" type="text/css" href="../../assets/css/tipuesearch.css">
<meta property="fb:app_id" content="993596464012237">
<meta name="author" content="Sadanand Singh">
<link rel="prev" href="../archInstall/" title="Arch Installation Guide" type="text/html">
<link rel="next" href="../PrimeNumberAndPath/" title="Two Simple Math Puzzles" type="text/html">
<meta property="og:site_name" content="Sadanand's Notes">
<meta property="og:title" content="Plasma 5 Installation on Arch Linux">
<meta property="og:url" content="https://sadanand-singh.github.io/posts/plasmaInstall/">
<meta property="og:description" content="In my last post on
Arch Installation Guide, We
installed the base system and we can now login into our new system as
root using the password that we set.


Table of Content


Add New User
Plasma 5 Des">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-06-21T11:20:11-07:00">
<meta property="article:tag" content="Arch Linux">
<meta property="article:tag" content="KDE">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Plasma 5">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@sadanandsingh">
<meta name="twitter:creator" content="@sadanandsingh">
</head>
<body>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://sadanand-singh.github.io/">

                <span id="blog-title">Sadanand's Notes</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../">Blog</a>
                </li>
<li>
<a href="../../projects/">Projects</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>

                
            </li>
</ul>
<span class="navbar-form navbar-right">
    <input type="text" id="tipue_search_input" class="form-control mr-sm-2" placeholder="Search"></span>

            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Plasma 5 Installation on Arch Linux</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    <a href="../../authors/sadanand-singh/">Sadanand Singh</a>
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2015-06-21T11:20:11-07:00" itemprop="datePublished" title="2015-06-21 11:20">2015-06-21 11:20</time></a></p>
                    <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="plasmaInstall.sadanand">Comments</a>


             
            </p>
<div class="fb-like" data-send="true" data-layout="standard" data-action="like" data-size="small" data-show-faces="false" data-share="false"></div>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>In my last post on
<a href="../archInstall/">Arch Installation Guide</a>, We
installed the base system and we can now login into our new system as
root using the password that we set.</p>
<!--more-->

<p><strong>Table of Content</strong></p>
<div class="toc">
<ul>
<li><a href="#add-new-user">Add New User</a></li>
<li><a href="#plasma-5-desktop">Plasma 5 Desktop</a></li>
<li><a href="#audio-setup">Audio Setup</a></li>
<li><a href="#useful-tips">Useful Tips</a></li>
</ul>
</div>
<p></p>
<div class="figure img-responsive align-center"> <img alt="Plasma 5 Looks" src="http://imgur.com/IjJYMR0.jpg">
</div>
<p>Now, we will proceed further to install the Plasma 5 desktop.</p>
<h2 id="add-new-user">Add New User</h2>
<p>Choose <code>$USERNAME</code> per your liking. I chose <code>ssingh</code>, so in future commands
whenever you see <code>ssingh</code> please replace it with your <code>$USERNAME</code>.</p>
<p></p>
<pre> <code class="language-bash">$ useradd -m -G wheel -s /bin/bash $USERNAME
$ chfn --full-name "$FULL_NAME" $USERNAME
$ passwd $USERNAME</code></pre>
<h2 id="plasma-5-desktop">Plasma 5 Desktop</h2>
<p>Network should be setup at the start. Check the status of network using:</p>
<p></p>
<pre> <code class="language-bash">$ ping google.com -c 2
$
$ PING google.com (10.38.24.84) 56(84) bytes of data.
$ 64 bytes from google.com (10.38.24.84): icmp_seq=1 ttl=64 time=0.022 ms
$ 64 bytes from google.com (10.38.24.84): icmp_seq=2 ttl=64 time=0.023 ms
$
$ --- google.com ping statistics ---
$ 2 packets transmitted, 2 received, 0% packet loss, time 999ms
$ rtt min/avg/max/mdev = 0.022/0.022/0.023/0.004 ms
$</code></pre>
<p>If you do not get this output, please follow the troubleshooting links
at <a href="https://wiki.archlinux.org/index.php/systemd-networkd">arch wiki</a> on
setting up network.</p>
<p>I will be assuming you have an NVIDIA card for graphics installation.</p>
<p>To setup a graphical desktop, first we need to install some basic X
related packages, and some <em>essential</em> packages (including fonts):</p>
<p></p>
<pre> <code class="language-bash">$ pacman -S xorg-server xorg-server-utils nvidia nvidia-libgl</code></pre>
<p>To avoid the possibility of forgetting to update your <em>initramfs</em> after an
<em>nvidia</em> upgrade, you have to use a <em>pacman</em> hook like this:</p>
<p></p>
<pre> <code class="language-bash">$ vim /etc/pacman.d/hooks/nvidia.hook
$
...
[Trigger]
Operation=Install
Operation=Upgrade
Operation=Remove
Type=Package
Target=nvidia

[Action]
Depends=mkinitcpio
When=PostTransaction
Exec=/usr/bin/mkinitcpio -p linux
...
$</code></pre>
<p>Nvidia has a daemon that is to be run at boot. To start the persistence
daemon at boot, enable the <code>nvidia-persistenced.service</code>.</p>
<p></p>
<pre> <code class="language-bash">$ systemctl enable nvidia-persistenced.service
$ systemctl start nvidia-persistenced.service</code></pre>
<p>
</p>
<div class="panel panel-info">
  <div class="panel-heading"><strong>KWIN FLICKERING ISSUE</strong></div>
  <div class="panel-body">
    To avoid screen tearing in KDE (KWin), add following:
<p></p>
<pre> <code class="language-bash">$ vim /etc/profile.d/kwin.sh
$
...
export __GL_YIELD="USLEEP"
...</code></pre>
<p>If this does not help please try adding the following instead -</p>
<p></p>
<pre> <code class="language-bash">$ vim /etc/profile.d/kwin.sh
$
...
export KWIN_TRIPLE_BUFFER=1
...</code></pre>
<p></p>
<p class="text-danger"><strong>Do not have both of the above enabled at the same
time. Please look at <a href="https://wiki.archlinux.org/index.php/NVIDIA/Troubleshooting">Arch
Wiki</a> for
additional details.</strong></p>
  </div>
  
</div>

<p>Now continue installing remaining important packages for the GUI.</p>
<p></p>
<pre> <code class="language-bash">$ pacman -S mesa ttf-hack ttf-anonymous-pro
$ pacman -S tlp tlp-rdw acpi_call bash-completion git meld
$ pacman -S ttf-dejavu ttf-freefont ttf-liberation</code></pre>
<p>Now, we will install the packages related to Plasma 5:</p>
<p></p>
<pre> <code class="language-bash">$ pacman -S plasma-meta kf5 kdebase kdeutils kde-applications
$ pacman -S kdegraphics gwenview</code></pre>
<p>Now we have to setup a display manager. I chose recommended SDDM for
plasma 5.</p>
<p></p>
<pre> <code class="language-bash">$ pacman -S sddm sddm-kcm
$ vim /etc/sddm.conf

...
[Theme]
# Current theme name
Current=breeze

# Cursor theme
CursorTheme=breeze_cursors
...

$ systemctl enable sddm</code></pre>
<p>Also make sure that network manager starts at boot:</p>
<p></p>
<pre> <code class="language-bash">$ systemctl disable dhcpcd.service
$ systemctl enable NetworkManager</code></pre>
<h2 id="audio-setup">Audio Setup</h2>
<p>This is pretty simple. Install following packages and you should be
done:</p>
<p></p>
<pre> <code class="language-bash">$ pacman -S alsa-utils pulseaudio pulseaudio-alsa libcanberra-pulse
$ pacman -S libcanberra-gstreamer jack2-dbus kmix
$ pacman -S mpv mplayer</code></pre>
<h2 id="useful-tips">Useful Tips</h2>
<p>This part is optional and you can choose as per your taste. Sync time
using the <code>systemd</code> service:</p>
<p></p>
<pre> <code class="language-bash">$ vim /etc/systemd/timesyncd.conf
$
...
[Time]
NTP=0.arch.pool.ntp.org 1.arch.pool.ntp.org 2.arch.pool.ntp.org 3.arch.pool.ntp.org
FallbackNTP=0.pool.ntp.org 1.pool.ntp.org 0.fr.pool.ntp.org
...
$
$ timedatectl set-ntp true
$ timedatectl status
$
...
      Local time: Tue 2016-09-20 16:40:44 PDT
  Universal time: Tue 2016-09-20 23:40:44 UTC
        RTC time: Tue 2016-09-20 23:40:44
       Time zone: US/Pacific (PDT, -0700)
 Network time on: yes
NTP synchronized: yes
 RTC in local TZ: no
 ...
$</code></pre>
<p>On Plasma 5, It is recommended to enable no-bitmaps to improve the font
rendering:</p>
<p></p>
<pre> <code class="language-bash">$ sudo ln -s /etc/fonts/conf.avail/70-no-bitmaps.conf
   /etc/fonts/conf.d</code></pre>
<p>If you use vim as your primary editor, you may find
this <a href="https://github.com/amix/vimrc">vimrc</a> quite useful.</p>
<p>That's It. You are done. Start playing your new beautiful desktop.
Please leave your comments with suggestions or any word of appreciation
if this has been of any help to you.</p>
<p>Follow this page for any additional suggestions or improvements in this
guide.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/arch-linux/" rel="tag">Arch Linux</a></li>
            <li><a class="tag p-category" href="../../categories/kde/" rel="tag">KDE</a></li>
            <li><a class="tag p-category" href="../../categories/linux/" rel="tag">Linux</a></li>
            <li><a class="tag p-category" href="../../categories/plasma-5/" rel="tag">Plasma 5</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../archInstall/" rel="prev" title="Arch Installation Guide">Previous post</a>
            </li>
            <li class="next">
                <a href="../PrimeNumberAndPath/" rel="next" title="Two Simple Math Puzzles">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
            
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="sadanandsblog",
            disqus_url="https://sadanand-singh.github.io/posts/plasmaInstall/",
        disqus_title="Plasma 5 Installation on Arch Linux",
        disqus_identifier="plasmaInstall.sadanand",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="sadanandsblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2017         <a href="mailto:sadanand.singh@aol.com">Sadanand Singh</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
            
        </footer>
</div>
</div>


            <script src="../../assets/js/jquery.min.js"></script><script src="../../assets/js/bootstrap.min.js"></script><script src="../../assets/js/moment-with-locales.min.js"></script><script src="../../assets/js/fancydates.js"></script><script src="../../assets/js/prism.js"></script><script src="../../assets/js/jquery.colorbox-min.js"></script><script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53f6d74a591ace8f"></script><!-- End of social buttons --><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><!-- Modal --><div id="search-results" class="modal fade" role="dialog" style="height: 80%;">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">×</button>
            <h4 class="modal-title">Search Results:</h4>
          </div>
          <div class="modal-body" id="tipue_search_content" style="max-height: 600px; overflow-y: auto;">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div>
    <script>
    $(document).ready(function() {
        $.when(
            $.getScript( "/assets/js/tipuesearch_set.js" ),
            $.getScript( "/assets/js/tipuesearch.js" ),
            $.Deferred(function( deferred ){
                $( deferred.resolve );
            })
        ).done(function() {
            $('#tipue_search_input').tipuesearch({
                'mode': 'json',
                'contentLocation': '/assets/js/tipuesearch_content.json'
            });
            $('#tipue_search_input').keyup(function (e) {
                if (e.keyCode == 13) {
                    $('#search-results').modal()
                }
            });
        });
    });
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54080172-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
